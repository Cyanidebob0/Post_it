<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Create Post</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body
    class="bg-gray-900 text-white min-h-screen flex flex-col items-center justify-center px-4"
  >
    <div class="w-full max-w-md mt-4">
      <!-- Welcome Section -->
      <div class="flex items-start justify-center gap-3 mb-6">
        <div class="h-10 w-10 bg-red-500 rounded-md"></div>
        <h3 class="text-2xl">Welcome <%= details.username %> ðŸ¤˜</h3>
      </div>

      <!-- Create Post Form -->
      <h1 class="text-3xl font-bold mb-6 text-center">Create a New Post</h1>
      <form action="/profile" method="POST" class="flex flex-col gap-4">
        <input
          type="text"
          name="title"
          placeholder="Post Title"
          required
          class="px-4 py-2 rounded bg-gray-800 text-white border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
        <textarea
          name="content"
          placeholder="Write your content here..."
          rows="5"
          required
          class="px-4 py-2 rounded bg-gray-800 text-white resize-none border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
        ></textarea>
        <button
          type="submit"
          class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 rounded transition"
        >
          Post
        </button>
      </form>

      <!-- Navigation Buttons -->
      <div class="flex justify-between mt-6">
        <a
          href="/feed"
          class="bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded transition"
          >Go to Feed</a
        >
        <a
          href="/logout"
          class="bg-red-600 hover:bg-red-700 px-4 py-2 rounded transition"
          >Logout</a
        >
      </div>

      <!-- My Posts -->
      <h1 class="text-3xl font-bold text-center mt-6 mb-6">My Posts</h1>
      <% details.posts.forEach((ele) => { %>
      <div class="bg-gray-800 rounded-lg p-4 mb-4 shadow">
        <p class="text-sm text-gray-400 mb-2">
          Author:
          <span class="text-white font-semibold"><%= details.name %></span>
        </p>
        <h2 class="text-xl font-semibold mb-2"><%= ele.title %></h2>
        <p class="text-gray-300"><%= ele.content %></p>

        <div class="flex justify-between mt-6">
          <a
            href="/edit/<%= ele._id %>"
            class="bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded transition"
            >Edit</a
          >

          <form action="/delete/<%= ele._id %>" method="POST" class="inline">
            <button
              type="submit"
              class="bg-red-600 hover:bg-red-700 px-4 py-2 rounded transition"
            >
              Delete
            </button>
          </form>
        </div>
      </div>
      <% }) %>
    </div>
  </body>
</html>
